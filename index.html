<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Media Ajar Gelombang Suara - FFT & Penjelasan</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <h1>Media Pembelajaran Fisika</h1>
    <h2>Gelombang Suara — Waveform & Spektrum (FFT)</h2>

    <div class="controls">
      <div class="control">
        <label for="waveType">Bentuk Gelombang</label>
        <select id="waveType">
          <option value="sine">Sine</option>
          <option value="square">Square</option>
          <option value="triangle">Triangle</option>
          <option value="sawtooth">Sawtooth</option>
        </select>
      </div>
      <div class="control">
        <label>Frekuensi: <span id="freqLabel">440</span> Hz</label>
        <input id="freqSlider" type="range" min="50" max="1000" value="440">
      </div>
      <div class="control">
        <label>Amplitudo: <span id="ampLabel">0.30</span></label>
        <input id="ampSlider" type="range" min="0" max="1" step="0.01" value="0.3">
      </div>
    </div>

    <div class="btns">
      <button id="playBtn">▶ Play</button>
      <button id="stopBtn">⏸ Stop</button>
    </div>

    <div class="visuals" id="visuals">
      <!-- canvas masuk di sini -->
    </div>

    <!-- PENJELASAN MENDEKAT: akan tampil di bawah spektrum -->
    <div class="explanation" id="explanation">
      <h3>Penjelasan Mendalam — FFT & Harmonik</h3>

      <h4>Apa itu FFT?</h4>
      <p>
        FFT (Fast Fourier Transform) adalah algoritma yang mengubah sinyal dari domain waktu (bagaimana nilai berubah terhadap waktu)
        menjadi domain frekuensi (berapa banyak energi di masing‑masing frekuensi). Pada visualisasi "Spektrum" kita menampilkan
        amplitudo tiap potongan frekuensi — sehingga puncak pada spektrum menunjukkan frekuensi yang kuat hadir pada suara.
      </p>

      <h4>Bagaimana p5.FFT bekerja (ringkasan praktis)</h4>
      <ul>
        <li>Secara default p5.FFT menggunakan <strong>1024 bins</strong> (panjang array spektrum = 1024). Kamu bisa ubah jumlah bins saat membuat objek FFT. </li>
        <li>Setiap bin mewakili sebagian rentang frekuensi dari <em>0 Hz</em> sampai <em>Nyquist</em> (separuh sample rate, mis. 44100/2 = 22050 Hz).</li>
        <li>Untuk mengubah indeks bin menjadi frekuensi gunakan rumus:
          <div class="code">frekuensi_bin(i) = i * (Nyquist) / bins</div>
          Contoh (sample rate 44100 Hz, Nyquist = 22050 Hz, bins = 1024): <em>resolusi ≈ 22050 / 1024 ≈ 21.53 Hz per bin</em>.
        </li>
        <li>Nilai yang dikembalikan oleh <code>fft.analyze()</code> biasanya dalam skala 0–255 (amplitudo relatif per bin).
        </li>
      </ul>

      <h4>Mengapa suara berbeda walau frekuensi dasar sama?</h4>
      <p>
        Nada yang sama (mis. 440 Hz) dapat terdengar berbeda karena <strong>timbre</strong> — yaitu distribusi energi pada harmonik (kelipatan frekuensi dasar).
        Sine murni hanya mengandung frekuensi dasar. Gelombang lain (square, triangle, sawtooth) adalah kombinasi sinus pada frekuensi dasar dan harmoniknya,
        tetapi dengan aturan amplitudo yang berbeda — sehingga spektrumnya berbeda.
      </p>

      <h4>Ringkasan sifat harmonik untuk bentuk gelombang umum</h4>
      <ul>
        <li><strong>Sine</strong> — hanya komponen frekuensi dasar (tidak ada harmonik). Hasil: suara halus/bersih.</li>
        <li><strong>Square</strong> — hanya <em>harmonik ganjil</em> (3f, 5f, 7f, ...). Amplitudo harmonik berkurang ~1/n (n = nomor harmonik).
            Formula (serinya): <code>f(t) = (4/π) ∑_{k=0}^∞ (1/(2k+1)) · sin((2k+1) ω t)</code> — hanya bilangan ganjil muncul.
        </li>
        <li><strong>Triangle</strong> — juga hanya harmonik ganjil, tetapi amplitudo turun lebih cepat ~1/n² dan fase bergantian.
            Akibatnya triangle terdengar lebih "lembut" daripada square.
        </li>
        <li><strong>Sawtooth</strong> — mengandung semua harmonik (ganjil & genap), amplitudo turun ~1/n. Spektrumnya paling padat dan "kasar".
        </li>
      </ul>

      <h4>Catatan praktis & pembacaan spektrum</h4>
      <ul>
        <li><strong>Resolusi vs waktu:</strong> Semakin besar ukuran FFT (bins), semakin baik resolusi di domain frekuensi tetapi semakin lambat respons waktu.
        </li>
        <li><strong>Nyquist & Aliasing:</strong> Harmonisa yang berada di atas Nyquist akan hilang atau memantul (aliasing). Pada synthesizer digital, sering diperlukan band‑limiting.
        </li>
        <li><strong>Windowing & leakage:</strong> Karena FFT bekerja pada potongan sinyal, jika potongan tidak berakhir pada siklus utuh, energi dapat "membocor"
            ke bin samping (spectral leakage). Teknik windowing (Hann, Hamming, dsb.) mengurangi leakage tetapi mempengaruhi resolusi.
        </li>
        <li><strong>Skala amplitudo:</strong> Spektrum pada p5 menunjukkan amplitudo relatif (0–255). Perbedaan tinggi bar menunjukkan energi relatif pada frekuensi itu.
        </li>
        <li><strong>Fase:</strong> Visualisasi magnitude (amplitude) tidak menunjukkan fase gelombang; dua sinyal bisa punya magnitudo sama tapi fase berbeda.
        </li>
      </ul>

      <h4>Contoh praktis (apa yang akan kamu lihat pada spektrum)</h4>
      <div class="example">
        Jika frekuensi dasar 440 Hz (A4):
        <ul>
          <li>Sine → puncak hanya di ~440 Hz.</li>
          <li>Square → puncak di 440 Hz, 1320 Hz (3×), 2200 Hz (5×), ... (hanya ganjil).</li>
          <li>Triangle → puncak juga pada 440, 3×, 5× ... tetapi puncak harmonik cepat mengecil (1/n²) sehingga jauh lebih lemah dibanding square.</li>
          <li>Sawtooth → puncak pada 440, 880, 1320, 1760, ... (semua kelipatan). Amplitudo turun ~1/n.
        </ul>
      </div>

      <p class="note">Catatan: penjelasan ini ditulis agar siswa dapat mengamati langsung dengan bagian "Waveform" (atas) dan
        "Spektrum" (bawah). Cobalah ubah bentuk gelombang dan frekuensi — lihat perbedaan puncak harmonik pada spektrum.
      </p>

    </div>
    <footer>
  <a href="kelompok.html">
    © 2025 Media Ajar Gelombang Bunyi | Dibuat untuk pembelajaran Fisika | Dibuat Oleh Kelompok 9
  </a>
</footer>
  </div>
  

  <script src="sketch.js"></script>
</body>
</html>
